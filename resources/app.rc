// ============================================================================
// File: app.rc
// Description: Resource script for NetworkMonitor
// Author: NetworkMonitor Project
// ============================================================================

#include <windows.h>
#include "resource.h"

// ============================================================================
// LANGUAGE AND CODE PAGE SETTINGS
// ============================================================================

#pragma code_page(65001) // UTF-8

LANGUAGE LANG_ENGLISH, SUBLANG_ENGLISH_US

// ============================================================================
// ICON RESOURCES
// ============================================================================

// Main application icon (displayed in Explorer, taskbar, Alt+Tab)
IDI_APP_ICON            ICON    "icons/app_icon.ico"

// Tray icons for different states
IDI_TRAY_IDLE           ICON    "icons/tray_idle.ico"
IDI_TRAY_ACTIVE         ICON    "icons/tray_active.ico"
IDI_TRAY_HIGH           ICON    "icons/tray_high.ico"

// ============================================================================
// MENU RESOURCES
// ============================================================================

IDR_TRAY_MENU MENU
BEGIN
    POPUP ""
    BEGIN
        POPUP "&Update Interval"
        BEGIN
            MENUITEM "Fast (1s)",           IDM_UPDATE_FAST
            MENUITEM "Normal (2s)",         IDM_UPDATE_NORMAL
            MENUITEM "Slow (5s)",           IDM_UPDATE_SLOW
        END
        MENUITEM SEPARATOR
        MENUITEM "Start with &Windows",    IDM_AUTOSTART
        MENUITEM SEPARATOR
        MENUITEM "&Settings...",            IDM_SETTINGS
        MENUITEM "&Dashboard...",           IDM_DASHBOARD
        MENUITEM "&About...",               IDM_ABOUT
        MENUITEM SEPARATOR
        MENUITEM "E&xit",                   IDM_EXIT
    END
END

// ============================================================================
// STRING RESOURCES
// ============================================================================

STRINGTABLE
BEGIN
    IDS_APP_TITLE                    "NetworkMonitor"
    IDS_ERROR_INIT                   "Failed to initialize NetworkMonitor"
    IDS_ERROR_NETWORK                "Failed to access network interfaces"
    IDS_ERROR_ALREADY_RUNNING        "NetworkMonitor is already running!"
    IDS_ERR_REGISTER_WINDOW_CLASS    "Failed to register window class"
    IDS_ERR_CREATE_WINDOW            "Failed to create window"
    IDS_ERR_INIT_TRAY_ICON           "Failed to initialize tray icon"
    IDS_ERR_INIT_TASKBAR_OVERLAY     "Failed to initialize taskbar overlay"
    IDS_ERR_START_NETWORK_MONITOR    "Failed to start network monitoring"
    IDS_ERR_LOAD_APP_ICON            "Failed to load application icon"
    IDS_ERR_CREATE_TRAY_ICON         "Failed to create tray icon"
    IDS_MENU_UPDATE_INTERVAL         "Update Interval"
    IDS_MENU_UPDATE_FAST             "Fast (1s)"
    IDS_MENU_UPDATE_NORMAL           "Normal (2s)"
    IDS_MENU_UPDATE_SLOW             "Slow (5s)"
    IDS_MENU_AUTOSTART               "Start with Windows"
    IDS_MENU_TASKBAR_OVERLAY         "Taskbar Overlay"
    IDS_MENU_SETTINGS                "Settings..."
    IDS_MENU_DASHBOARD               "Dashboard..."
    IDS_MENU_ABOUT                   "About..."
    IDS_MENU_EXIT                    "Exit"
    IDS_DASHBOARD_COL_TIME           "Time"
    IDS_DASHBOARD_COL_INTERFACE      "Interface"
    IDS_DASHBOARD_COL_DOWN           "Down"
    IDS_DASHBOARD_COL_UP             "Up"
    IDS_INTERVAL_FAST                "Fast (1s)"
    IDS_INTERVAL_NORMAL              "Normal (2s)"
    IDS_INTERVAL_SLOW                "Slow (5s)"
    IDS_UNIT_BYTES_PER_SECOND        "Bytes per second"
    IDS_UNIT_KILOBYTES_PER_SECOND    "Kilobytes per second"
    IDS_UNIT_MEGABYTES_PER_SECOND    "Megabytes per second"
    IDS_UNIT_MEGABITS_PER_SECOND     "Megabits per second"
    IDS_ALL_INTERFACES               "All Interfaces"
    IDS_AGGREGATED_STATS             "Aggregated Statistics"
    IDS_OVERLAY_DOWN_PREFIX          "Down: "
    IDS_OVERLAY_UP_PREFIX            "Up: "
    IDS_ABOUT_TITLE                  "About NetworkMonitor"
    IDS_ABOUT_VERSION_LABEL          "Version: "
    IDS_ABOUT_BODY                   "A lightweight network traffic monitor for Windows.\nDisplays real-time download/upload speeds in the system tray and taskbar."
    IDS_HISTORY_MANAGE_TITLE         "Manage History"
    IDS_HISTORY_CONFIRM_DELETE_ALL   "This will delete all logged history. Are you sure?"
    IDS_HISTORY_CONFIRM_TRIM_30      "Delete all records older than 30 days?"
    IDS_HISTORY_CONFIRM_TRIM_90      "Delete all records older than 90 days?"
    IDS_HISTORY_ERROR_OPERATION      "Failed to modify history database."
    IDS_HISTORY_AUTO_TRIM_NONE       "Do not auto delete"
    IDS_HISTORY_AUTO_TRIM_7D         "Keep last 7 days"
    IDS_HISTORY_AUTO_TRIM_30D        "Keep last 30 days"
    IDS_HISTORY_AUTO_TRIM_90D        "Keep last 90 days"
    IDS_HISTORY_AUTO_TRIM_365D       "Keep last 365 days"
    IDS_LANGUAGE_SYSTEM              "System (Windows default)"
    IDS_LANGUAGE_ENGLISH             "English"
    IDS_LANGUAGE_VIETNAMESE          "Tiếng Việt"
    IDS_SETTINGS_TITLE               "NetworkMonitor Settings"
    IDS_SETTINGS_GROUP_GENERAL       "General"
    IDS_SETTINGS_GROUP_UPDATE        "Update && Display"
    IDS_SETTINGS_GROUP_NETWORK       "Network && History"
    IDS_SETTINGS_LABEL_LANGUAGE      "Language:"
    IDS_SETTINGS_LABEL_AUTOSTART     "Start with Windows"
    IDS_SETTINGS_LABEL_LOGGING       "Enable history logging"
    IDS_SETTINGS_LABEL_INTERVAL      "Update Interval:"
    IDS_SETTINGS_LABEL_SPEED_UNIT    "Speed Unit:"
    IDS_SETTINGS_LABEL_MONITOR       "Monitor:"
    IDS_SETTINGS_LABEL_AUTOTRIM      "Auto delete older than:"
    IDS_SETTINGS_LABEL_DEBUGLOGGING  "Enable debug logging"
    IDS_SETTINGS_BUTTON_OPEN_LOG     "Open log file..."
    IDS_DASHBOARD_TITLE              "Network Usage Dashboard"
    IDS_DASHBOARD_LABEL_TODAY        "Today:"
    IDS_DASHBOARD_LABEL_THIS_MONTH   "This month:"
    IDS_DASHBOARD_LABEL_DOWNLOAD     "Download:"
    IDS_DASHBOARD_LABEL_UPLOAD       "Upload:"
    IDS_DASHBOARD_BUTTON_EXPORT_CSV  "Export to CSV..."
    IDS_HISTORY_DIALOG_TITLE         "Manage History"
    IDS_HISTORY_LABEL_OPERATIONS     "History operations:"
    IDS_HISTORY_BUTTON_DELETE_ALL    "Delete all history"
    IDS_HISTORY_BUTTON_KEEP_30       "Keep last 30 days"
    IDS_HISTORY_BUTTON_KEEP_90       "Keep last 90 days"
END

// Vietnamese resources
LANGUAGE LANG_VIETNAMESE, SUBLANG_VIETNAMESE_VIETNAM

STRINGTABLE
BEGIN
    IDS_APP_TITLE                    "NetworkMonitor"
    IDS_ERROR_INIT                   "Không thể khởi tạo NetworkMonitor"
    IDS_ERROR_NETWORK                "Không truy cập được các giao diện mạng"
    IDS_ERROR_ALREADY_RUNNING        "NetworkMonitor đang chạy rồi!"
    IDS_ERR_REGISTER_WINDOW_CLASS    "Không thể đăng ký lớp cửa sổ"
    IDS_ERR_CREATE_WINDOW            "Không thể tạo cửa sổ"
    IDS_ERR_INIT_TRAY_ICON           "Không thể khởi tạo biểu tượng khay hệ thống"
    IDS_ERR_INIT_TASKBAR_OVERLAY     "Không thể khởi tạo hiển thị trên taskbar"
    IDS_ERR_START_NETWORK_MONITOR    "Không thể bắt đầu giám sát mạng"
    IDS_ERR_LOAD_APP_ICON            "Không thể tải biểu tượng ứng dụng"
    IDS_ERR_CREATE_TRAY_ICON         "Không thể tạo biểu tượng khay hệ thống"
    IDS_MENU_UPDATE_INTERVAL         "Chu kỳ cập nhật"
    IDS_MENU_UPDATE_FAST             "Nhanh (1s)"
    IDS_MENU_UPDATE_NORMAL           "Bình thường (2s)"
    IDS_MENU_UPDATE_SLOW             "Chậm (5s)"
    IDS_MENU_AUTOSTART               "Khởi động cùng Windows"
    IDS_MENU_TASKBAR_OVERLAY         "Hiển thị trên taskbar"
    IDS_MENU_SETTINGS                "Cài đặt..."
    IDS_MENU_DASHBOARD               "Bảng theo dõi..."
    IDS_MENU_ABOUT                   "Giới thiệu..."
    IDS_MENU_EXIT                    "Thoát"
    IDS_DASHBOARD_COL_TIME           "Thời gian"
    IDS_DASHBOARD_COL_INTERFACE      "Giao diện"
    IDS_DASHBOARD_COL_DOWN           "Tải xuống"
    IDS_DASHBOARD_COL_UP             "Tải lên"
    IDS_INTERVAL_FAST                "Nhanh (1s)"
    IDS_INTERVAL_NORMAL              "Bình thường (2s)"
    IDS_INTERVAL_SLOW                "Chậm (5s)"
    IDS_UNIT_BYTES_PER_SECOND        "Byte mỗi giây"
    IDS_UNIT_KILOBYTES_PER_SECOND    "Kilobyte mỗi giây"
    IDS_UNIT_MEGABYTES_PER_SECOND    "Megabyte mỗi giây"
    IDS_UNIT_MEGABITS_PER_SECOND     "Megabit mỗi giây"
    IDS_ALL_INTERFACES               "Tất cả giao diện"
    IDS_AGGREGATED_STATS             "Tổng hợp thống kê"
    IDS_OVERLAY_DOWN_PREFIX          "Tải xuống: "
    IDS_OVERLAY_UP_PREFIX            "Tải lên: "
    IDS_ABOUT_TITLE                  "Giới thiệu NetworkMonitor"
    IDS_ABOUT_VERSION_LABEL          "Phiên bản: "
    IDS_ABOUT_BODY                   "Công cụ giám sát lưu lượng mạng nhẹ cho Windows.\nHiển thị tốc độ tải xuống / tải lên theo thời gian thực ở khay hệ thống và taskbar."
    IDS_HISTORY_MANAGE_TITLE         "Quản lý lịch sử"
    IDS_HISTORY_CONFIRM_DELETE_ALL   "Việc này sẽ xóa toàn bộ lịch sử đã ghi. Bạn có chắc không?"
    IDS_HISTORY_CONFIRM_TRIM_30      "Xóa tất cả bản ghi cũ hơn 30 ngày?"
    IDS_HISTORY_CONFIRM_TRIM_90      "Xóa tất cả bản ghi cũ hơn 90 ngày?"
    IDS_HISTORY_ERROR_OPERATION      "Không thể thay đổi cơ sở dữ liệu lịch sử."
    IDS_HISTORY_AUTO_TRIM_NONE       "Không tự động xóa"
    IDS_HISTORY_AUTO_TRIM_7D         "Giữ 7 ngày gần nhất"
    IDS_HISTORY_AUTO_TRIM_30D        "Giữ 30 ngày gần nhất"
    IDS_HISTORY_AUTO_TRIM_90D        "Giữ 90 ngày gần nhất"
    IDS_HISTORY_AUTO_TRIM_365D       "Giữ 365 ngày gần nhất"
    IDS_LANGUAGE_SYSTEM              "Theo hệ thống (Windows)"
    IDS_LANGUAGE_ENGLISH             "English"
    IDS_LANGUAGE_VIETNAMESE          "Tiếng Việt"
    IDS_SETTINGS_TITLE               "Cài đặt NetworkMonitor"
    IDS_SETTINGS_GROUP_GENERAL       "Chung"
    IDS_SETTINGS_GROUP_UPDATE        "Cập nhật && Hiển thị"
    IDS_SETTINGS_GROUP_NETWORK       "Mạng && Lịch sử"
    IDS_SETTINGS_LABEL_LANGUAGE      "Ngôn ngữ:"
    IDS_SETTINGS_LABEL_AUTOSTART     "Khởi động cùng Windows"
    IDS_SETTINGS_LABEL_LOGGING       "Bật ghi lịch sử"
    IDS_SETTINGS_LABEL_INTERVAL      "Chu kỳ cập nhật:"
    IDS_SETTINGS_LABEL_SPEED_UNIT    "Đơn vị tốc độ:"
    IDS_SETTINGS_LABEL_MONITOR       "Theo dõi:"
    IDS_SETTINGS_LABEL_AUTOTRIM      "Tự xóa cũ hơn:"
    IDS_SETTINGS_LABEL_DEBUGLOGGING  "Bật debug logging"
    IDS_SETTINGS_BUTTON_OPEN_LOG     "Mở file log..."
    IDS_DASHBOARD_TITLE              "Bảng theo dõi lưu lượng"
    IDS_DASHBOARD_LABEL_TODAY        "Hôm nay:"
    IDS_DASHBOARD_LABEL_THIS_MONTH   "Tháng này:"
    IDS_DASHBOARD_LABEL_DOWNLOAD     "Tải xuống:"
    IDS_DASHBOARD_LABEL_UPLOAD       "Tải lên:"
    IDS_DASHBOARD_BUTTON_EXPORT_CSV  "Xuất CSV..."
    IDS_HISTORY_DIALOG_TITLE         "Quản lý lịch sử"
    IDS_HISTORY_LABEL_OPERATIONS     "Thao tác lịch sử:"
    IDS_HISTORY_BUTTON_DELETE_ALL    "Xóa toàn bộ lịch sử"
    IDS_HISTORY_BUTTON_KEEP_30       "Giữ 30 ngày gần nhất"
    IDS_HISTORY_BUTTON_KEEP_90       "Giữ 90 ngày gần nhất"
END

// Switch back to English for the rest of resources
LANGUAGE LANG_ENGLISH, SUBLANG_ENGLISH_US

// ============================================================================
// VERSION INFORMATION
// ============================================================================

VS_VERSION_INFO VERSIONINFO
 FILEVERSION 1,0,0,0
 PRODUCTVERSION 1,0,0,0
 FILEFLAGSMASK 0x3fL
#ifdef _DEBUG
 FILEFLAGS 0x1L
#else
 FILEFLAGS 0x0L
#endif
 FILEOS 0x40004L
 FILETYPE 0x1L
 FILESUBTYPE 0x0L
BEGIN
    BLOCK "StringFileInfo"
    BEGIN
        BLOCK "040904b0"
        BEGIN
            VALUE "CompanyName", "NetworkMonitor Project"
            VALUE "FileDescription", "Network Traffic Monitor for Windows"
            VALUE "FileVersion", "1.0.0.0"
            VALUE "InternalName", "NetworkMonitor.exe"
            VALUE "LegalCopyright", "Copyright (C) 2025"
            VALUE "OriginalFilename", "NetworkMonitor.exe"
            VALUE "ProductName", "NetworkMonitor"
            VALUE "ProductVersion", "1.0.0.0"
        END
    END
    BLOCK "VarFileInfo"
    BEGIN
        VALUE "Translation", 0x409, 1200
    END
END

// ============================================================================
// MANIFEST RESOURCE
// ============================================================================

// Embed the application manifest
// 1 RT_MANIFEST "app.manifest"

// ============================================================================
// DIALOG RESOURCES (Optional - for future use)
// ============================================================================

IDD_ABOUT_DIALOG DIALOGEX 0, 0, 250, 120
STYLE DS_SETFONT | DS_MODALFRAME | DS_FIXEDSYS | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "About NetworkMonitor"
FONT 8, "MS Shell Dlg", 400, 0, 0x1
BEGIN
    // ICON COMMENTED OUT - IDI_APP_ICON not defined yet
    // ICON            IDI_APP_ICON,IDC_STATIC,7,7,21,20
    LTEXT           "NetworkMonitor",IDC_STATIC,40,10,200,8,SS_NOPREFIX
    LTEXT           "Version 1.0.0",IDC_VERSION_TEXT,40,25,200,8
    LTEXT           "A lightweight network traffic monitor for Windows.",IDC_STATIC,40,40,200,8
    LTEXT           "Copyright (C) 2025",IDC_COPYRIGHT_TEXT,40,55,200,8
    DEFPUSHBUTTON   "OK",IDOK,95,95,60,14,WS_GROUP
END

IDD_SETTINGS_DIALOG DIALOGEX 0, 0, 300, 230
STYLE DS_SETFONT | DS_MODALFRAME | DS_FIXEDSYS | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "NetworkMonitor Settings"
FONT 8, "MS Shell Dlg", 400, 0, 0x1
BEGIN
    // General
    GROUPBOX        "General",IDC_SETTINGS_GROUP_GENERAL,7,7,286,65
    LTEXT           "Language:",IDC_SETTINGS_LABEL_LANGUAGE,15,22,50,8
    COMBOBOX        IDC_LANGUAGE_COMBO,70,20,100,60,CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP
    CONTROL         "Start with Windows",IDC_AUTOSTART_CHECK,"Button",BS_AUTOCHECKBOX | WS_TABSTOP,185,20,100,10
    CONTROL         "Enable history logging",IDC_ENABLE_LOGGING_CHECK,"Button",BS_AUTOCHECKBOX | WS_TABSTOP,185,35,110,10
    CONTROL         "Enable debug logging",IDC_DEBUG_LOGGING_CHECK,"Button",BS_AUTOCHECKBOX | WS_TABSTOP,185,50,110,10

    // Update & Display
    GROUPBOX        "Update && Display",IDC_SETTINGS_GROUP_UPDATE,7,95,286,50
    LTEXT           "Update Interval:",IDC_SETTINGS_LABEL_INTERVAL,15,107,70,8
    COMBOBOX        IDC_UPDATE_INTERVAL_COMBO,90,105,80,60,CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP
    LTEXT           "Speed Unit:",IDC_STATIC,180,107,60,8
    COMBOBOX        IDC_DISPLAY_UNIT_COMBO,240,105,40,60,CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

    // Network & History
    GROUPBOX        "Network && History",IDC_SETTINGS_GROUP_NETWORK,7,155,286,44
    LTEXT           "Monitor:",IDC_SETTINGS_LABEL_MONITOR,15,167,50,8
    COMBOBOX        IDC_INTERFACE_COMBO,65,165,120,60,CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP
    LTEXT           "Auto delete older than:",IDC_STATIC,190,167,90,8
    COMBOBOX        IDC_HISTORY_AUTO_TRIM_COMBO,190,181,80,60,CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

    PUSHBUTTON      "Open log file...",IDC_SETTINGS_BUTTON_OPEN_LOG,15,210,90,14
    DEFPUSHBUTTON   "OK",IDOK,135,210,60,14
    PUSHBUTTON      "Cancel",IDCANCEL,200,210,60,14
END

IDD_DASHBOARD_DIALOG DIALOGEX 0, 0, 360, 220
STYLE DS_SETFONT | DS_MODALFRAME | DS_FIXEDSYS | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Network Usage Dashboard"
FONT 8, "MS Shell Dlg", 400, 0, 0x1
BEGIN
    // Today (left)
    LTEXT           "Today:",IDC_DASHBOARD_LABEL_TODAY,7,7,60,8
    LTEXT           "Download:",IDC_DASHBOARD_LABEL_DOWNLOAD_T,15,20,50,8
    LTEXT           "",IDC_TODAY_DOWN,70,20,100,8
    LTEXT           "Upload:",IDC_DASHBOARD_LABEL_UPLOAD_T,15,33,50,8
    LTEXT           "",IDC_TODAY_UP,70,33,100,8

    // This month (right, same band)
    LTEXT           "This month:",IDC_DASHBOARD_LABEL_MONTH,180,7,70,8
    LTEXT           "Download:",IDC_DASHBOARD_LABEL_DOWNLOAD_M,180,20,60,8
    LTEXT           "",IDC_MONTH_DOWN,260,20,90,8
    LTEXT           "Upload:",IDC_DASHBOARD_LABEL_UPLOAD_M,180,33,60,8
    LTEXT           "",IDC_MONTH_UP,260,33,90,8

    CONTROL         "",IDC_DASHBOARD_CHART,"STATIC",SS_OWNERDRAW | WS_CHILD | WS_VISIBLE | WS_BORDER,7,50,346,60
    CONTROL         "",IDC_RECENT_LIST,"SysListView32",WS_TABSTOP | WS_BORDER | WS_VSCROLL | WS_HSCROLL | LVS_REPORT | LVS_SHOWSELALWAYS,7,115,346,80
    PUSHBUTTON      "Export CSV...",IDC_DASHBOARD_BUTTON_EXPORT,30,200,76,14
    PUSHBUTTON      "Manage history...",IDC_HISTORY_MANAGE,115,200,76,14
    PUSHBUTTON      "Refresh",IDC_DASHBOARD_REFRESH,200,200,58,14
    DEFPUSHBUTTON   "Close",IDOK,260,200,58,14
END

IDD_HISTORY_MANAGE_DIALOG DIALOGEX 0, 0, 240, 110
STYLE DS_SETFONT | DS_MODALFRAME | DS_FIXEDSYS | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Manage History"
FONT 8, "MS Shell Dlg", 400, 0, 0x1
BEGIN
    LTEXT           "History operations:",IDC_HISTORY_LABEL_OPERATIONS,7,7,200,8
    PUSHBUTTON      "Delete all history",IDC_HISTORY_DELETE_ALL,7,24,90,14
    PUSHBUTTON      "Keep last 30 days",IDC_HISTORY_KEEP_30,7,42,90,14
    PUSHBUTTON      "Keep last 90 days",IDC_HISTORY_KEEP_90,7,60,90,14
    DEFPUSHBUTTON   "Close",IDCANCEL,170,86,60,14
END
